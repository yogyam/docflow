# DocFlow Lite Backend Environment Variables
# Copy this file to .env and fill in your actual values

# ===========================================
# REQUIRED ENVIRONMENT VARIABLES
# ===========================================

# GitHub API Configuration (REQUIRED)
GITHUB_TOKEN=your_github_personal_access_token_here

# Google Gemini AI Configuration (REQUIRED)
GEMINI_API_KEY=your_gemini_api_key_here

# ===========================================
# SERVER CONFIGURATION
# ===========================================

# Server port (default: 3001)
PORT=3001

# Node environment (development, production, test)
NODE_ENV=development

# Frontend URL for CORS (default: http://localhost:3000)
FRONTEND_URL=http://localhost:3000

# ===========================================
# API CONFIGURATION
# ===========================================

# API timeout in milliseconds (default: 30000)
API_TIMEOUT=30000

# Request body size limit (default: 10mb)
BODY_LIMIT=10mb

# Request timeout in milliseconds (default: 60000)
REQUEST_TIMEOUT=60000

# ===========================================
# RATE LIMITING CONFIGURATION
# ===========================================

# Rate limit window in milliseconds (default: 900000 = 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window (default: 100)
RATE_LIMIT_MAX_REQUESTS=100

# Skip counting successful requests (default: false)
RATE_LIMIT_SKIP_SUCCESS=false

# Skip counting failed requests (default: false)
RATE_LIMIT_SKIP_FAILED=false

# ===========================================
# GITHUB API CONFIGURATION
# ===========================================

# Maximum number of files to analyze per request (default: 10)
GITHUB_FILE_LIMIT=10

# Maximum file size in bytes to process (default: 50000 = 50KB)
GITHUB_MAX_FILE_SIZE=50000

# Content truncation size in characters (default: 1000)
GITHUB_CONTENT_TRUNCATE=1000

# Maximum config files to analyze (default: 5)
GITHUB_CONFIG_FILES_LIMIT=5

# Maximum architectural files to analyze (default: 8)
GITHUB_ARCH_FILES_LIMIT=8

# Maximum source files to analyze (default: 10)
GITHUB_SOURCE_FILES_LIMIT=10

# Batch size for bulk operations (default: 20)
GITHUB_BATCH_SIZE=20

# Number of dependencies to show in analysis (default: 3)
GITHUB_DEPENDENCIES_SLICE=3

# ===========================================
# AI/GEMINI CONFIGURATION
# ===========================================

# Gemini model to use (default: gemini-1.5-flash)
GEMINI_MODEL=gemini-1.5-flash

# Maximum retry attempts for AI calls (default: 3)
AI_MAX_RETRIES=3

# Base delay for retry backoff in milliseconds (default: 1000)
AI_RETRY_DELAY_BASE=1000

# AI request timeout in milliseconds (default: 60000)
AI_TIMEOUT=60000

# Maximum tokens for AI responses (default: 8192)
AI_MAX_TOKENS=8192

# ===========================================
# FILE PROCESSING CONFIGURATION
# ===========================================

# Maximum concurrent file requests (default: 5)
MAX_CONCURRENT_REQUESTS=5

# File operation retry attempts (default: 3)
FILE_RETRY_ATTEMPTS=3

# File chunk size for processing in bytes (default: 1048576 = 1MB)
FILE_CHUNK_SIZE=1048576

# ===========================================
# DOCUMENTATION GENERATION CONFIGURATION
# ===========================================

# Maximum features to show in docs (default: 3)
DOCS_MAX_FEATURES=3

# Maximum functions to show in analysis (default: 10)
DOCS_MAX_FUNCTIONS=10

# Maximum dependencies to show (default: 20)
DOCS_MAX_DEPENDENCIES=20

# Documentation generation timeout in milliseconds (default: 120000 = 2 minutes)
DOCS_GENERATION_TIMEOUT=120000

# ===========================================
# SECURITY CONFIGURATION
# ===========================================

# Enable Helmet security middleware (default: true)
HELMET_ENABLED=true

# Enable CORS (default: true)
CORS_ENABLED=true

# Trust proxy headers (default: true)
TRUST_PROXY=true

# ===========================================
# LOGGING CONFIGURATION
# ===========================================

# Log level (error, warn, info, debug) (default: info)
LOG_LEVEL=info

# Enable request logging (default: false)
ENABLE_REQUEST_LOGGING=false

# ===========================================
# DATABASE CONFIGURATION (Future Use)
# ===========================================

# Database connection URL
# DATABASE_URL=postgresql://user:password@localhost:5432/docflow

# Maximum database connections (default: 10)
# DB_MAX_CONNECTIONS=10

# Database timeout in milliseconds (default: 30000)
# DB_TIMEOUT=30000

# ===========================================
# PERFORMANCE TUNING
# ===========================================

# These values can be adjusted based on your server capabilities
# and GitHub API rate limits. Start with defaults and adjust as needed.

# For high-traffic scenarios:
# - Increase RATE_LIMIT_MAX_REQUESTS
# - Decrease GITHUB_FILE_LIMIT to reduce API usage
# - Increase MAX_CONCURRENT_REQUESTS if server can handle it

# For development:
# - Set LOG_LEVEL=debug for verbose logging
# - Set ENABLE_REQUEST_LOGGING=true for API debugging
# - Use smaller file limits to speed up testing